<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Crew dogs</title>
  <link href="../css/bootstrap.css" rel="stylesheet">
  <link href="../css/style.css" rel="stylesheet">
  <link href="../css/menu.css" rel="stylesheet">
  <link href="../css/slick-slider.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="../css/s-custom.css">
  <link rel="stylesheet" href="../css/fonts.css">
  <link rel="stylesheet" href="../css/dashboard.css">
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <style>
    .list-group-item-content{
     margin-top: -80px;
     padding-top: 80px;
    }
  </style>
</head>

<body>

  <div id="dashboardHeader" style="z-index: 1; border-bottom:1px solid rgba(0, 0, 0, 0.085) ;"></div>

  <div class="dashboard-main container">
    <div class="dashboard-right">
      <div id="mainList">
        <div id="page1" data-page="page1" class="dashBoard-page-nav-active">
          <p class="dashboard-sidenav-font dashBoard-page-nav">Listing details</p>
          <div id="ListingDetails" class="list-group nav-bar-listing-details popup-font-3">
            <a class="list-group-item list-group-item-action" href="#Photos">Photos</a>
            <a class="list-group-item list-group-item-action" href="#Property-information">Property information</a>
            <a class="list-group-item list-group-item-action" href="#Address">Address</a>
            <a class="list-group-item list-group-item-action" href="#Amenities">Amenities</a>
            <a class="list-group-item list-group-item-action" href="#Stay-types">Stay types</a>
          </div>
        </div>
        <div id="page2" data-page="page2">
          <p class="dashboard-sidenav-font dashBoard-page-nav">Pricing</p>
          <div id="PricingAirbnb" class="list-group nav-bar-listing-details popup-font-3">
            <a class="list-group-item list-group-item-action" href="#Standard-rates">Standard rates</a>
            <a class="list-group-item list-group-item-action" href="#Seasonal-rates">Seasonal rates</a>
            <a class="list-group-item list-group-item-action" href="#Official-travel-rates">Official travel rates</a>
            <a class="list-group-item list-group-item-action" href="#Discounts">Discounts</a>
            <a class="list-group-item list-group-item-action" href="#Taxes-and-fees">Taxes and fees</a>
          </div>
        </div>
        <div id="page3" data-page="page3">
           <p class="dashboard-sidenav-font dashBoard-page-nav" >Rules and Policies</p>
          <div id="Rules-and-Policies" class="list-group nav-bar-listing-details popup-font-3">
            <a class="list-group-item list-group-item-action" href="#House-Rules">House Rules</a>
            <a class="list-group-item list-group-item-action" href="#Cancellation-polic">Cancellation policy</a>
          </div>
        </div>
        <div id="page4" data-page="page4">
          <p class="dashboard-sidenav-font dashBoard-page-nav" >Calendar and availability</p>
          <div id="Calendar-and-availability" class="list-group nav-bar-listing-details popup-font-3">
            <a class="list-group-item list-group-item-action" href="#Availability">Availability</a>
            <a class="list-group-item list-group-item-action" href="#Calendar-Sync">Calendar Sync</a>
          </div>
        </div>
      </div>
    </div>

    <div class="dashboard-left">
      <div id="page1" class="page dashBoard-page-active">
        <div id="listingdetails"></div>
      </div>
      <div id="page2" class="page">
        <div id="pricingAirbnb"></div>
      </div>
      <div id="page3" class="page">
         <div id="rulesAndPolices"></div>
      </div>
      <div id="page4" class="page">
        <div id="calander-availability"></div>
      </div>
    </div>
  </div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
  const pages = document.querySelectorAll(".page");
  const links = document.querySelectorAll(".dashboard-right > #mainList > div");

  // Function to show the corresponding page
  function showPage(pageId) {
    pages.forEach(page => {
      page.classList.remove("dashBoard-page-active");
      if (page.id === pageId) {
        page.classList.add("dashBoard-page-active");
        // Initialize Scrollspy for the current page
        initScrollSpy(pageId);
      }
    });

    // Update navbar color
    links.forEach(item => {
      item.classList.remove("dashBoard-page-nav-active");
      if (item.id === pageId) {
        item.classList.add("dashBoard-page-nav-active");
      }
    });

    // Scroll to the top
    window.scrollTo({
      top: 0,
      left: 0,
      behavior: 'smooth'
    });
  }

  // Function to initialize Scrollspy
  function initScrollSpy(pageId) {
    // Get the Scrollspy target container
    const targetContainer = document.querySelector(`#${pageId} .nav-bar-listing-details`);
    if (targetContainer) {
      // Remove any existing Scrollspy
      const existingSpy = bootstrap.ScrollSpy.getInstance(document.body);
      if (existingSpy) {
        existingSpy.dispose();
      }
      
      // Initialize new Scrollspy instance
      new bootstrap.ScrollSpy(document.body, {
        target: `#${pageId} .nav-bar-listing-details`,
        offset: 100 // Adjust offset to match your header height
      });
    }
  }

  // Event listeners for page navigation
  links.forEach(link => {
    link.addEventListener("click", function (event) {
      const pageId = this.getAttribute("data-page");
      showPage(pageId);

      // Prevent the click event from bubbling up to parent elements
      event.stopPropagation();
    });
  });

  // Show the active page by default and initialize Scrollspy
  const defaultPage = document.getElementById("page1");
  if (defaultPage) {
    defaultPage.classList.add("dashBoard-page-active");
    initScrollSpy(defaultPage.id);
  }
});
</script>


<script src="../js/bootstrap.bundle.min.js"></script>
<script src="../js/jquery-3.7.1.js"></script>
<script src="dashboard.js"></script>
</body>
</html>
